<p style="color: green"><%= notice %></p>

<% content_for :title, "Recipes" %>

<div class='mb-5'>
  <div class='d-flex justify-content-between align-items-center'>
    <h1>Recipes</h1>
    <%= link_to "New recipe", new_recipe_path, class: 'btn btn-primary' %>
  </div>
  <div class='clearfix'></div>
</div>

<% if request.query_parameters[:category].present? %>
  <div class='alert alert-info'>
    <p>
      Displaying recipes for category: 
      <% if @category.present? %>
        <%= link_to @category.name, @category %>
      <% else %>
        <%= request.query_parameters[:category] %>
      <% end %>
    </p>
    <%= link_to "Clear filter", recipes_path, class: 'btn btn-sm btn-secondary' %>
  </div>
<% end %>

<% if @recipes.empty? %>
  <div class='alert alert-warning'>No recipes found</div>
<% else %>
  <div id="recipes" class='row row-cols-1 row-cols-md-2 row-cols-lg-3 row-cols-xxl-4 mb-3 gx-3 gy-5 justify-content-center'>
    <% @recipes.each do |recipe| %>
      <%= render recipe %>
    <% end %>
  </div>
<% end %>

<%= link_to "New recipe", new_recipe_path %>
